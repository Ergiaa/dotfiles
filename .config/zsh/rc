# Source zsh configs if they exist
for file in shell aliases functions prompt init envs; do
  [[ -f "$HOME/.config/zsh/$file" ]] && source "$HOME/.config/zsh/$file"
done

# Load zsh-native keybindings/completion instead of Bash's .inputrc
if [[ $- == *i* ]]; then
  # Our earlier zsh completion & keybinding setup
  autoload -Uz compinit
  compinit
  
  # History search on arrow keys
  bindkey '^[[A' history-beginning-search-backward
  bindkey '^[[B' history-beginning-search-forward
  bindkey '^[[C' forward-char
  bindkey '^[[D' backward-char
  
  # Case-insensitive completion
  zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}'
  
  # Ignore hidden files unless starting with '.'
  zstyle ':completion:*' file-patterns \
    '*(-/):directories' \
    '.*(-/):hidden-directories' \
    '*:all-files'
  
  # Add trailing slash for dirs
  setopt AUTO_PARAM_SLASH
  
  # Show all results at once
  setopt LIST_PACKED
  setopt LIST_ROWS_FIRST
fi
