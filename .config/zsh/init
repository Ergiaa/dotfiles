# mise (version manager) - cached for performance
if command -v mise &> /dev/null; then
  if [[ ! -f ~/.cache/mise-init.zsh ]] || [[ $(command -v mise) -nt ~/.cache/mise-init.zsh ]]; then
    mkdir -p ~/.cache
    mise activate zsh > ~/.cache/mise-init.zsh
  fi
  source ~/.cache/mise-init.zsh
fi

# zoxide (smart cd) - cached for performance
if command -v zoxide &> /dev/null; then
  if [[ ! -f ~/.cache/zoxide-init.zsh ]] || [[ $(command -v zoxide) -nt ~/.cache/zoxide-init.zsh ]]; then
    mkdir -p ~/.cache
    zoxide init zsh > ~/.cache/zoxide-init.zsh
  fi
  source ~/.cache/zoxide-init.zsh
fi

# fzf (fuzzy finder)
if command -v fzf &> /dev/null; then
  if [[ -f /usr/share/fzf/completion.zsh ]]; then
    source /usr/share/fzf/completion.zsh
  fi
  if [[ -f /usr/share/fzf/key-bindings.zsh ]]; then
    source /usr/share/fzf/key-bindings.zsh
  fi
fi
